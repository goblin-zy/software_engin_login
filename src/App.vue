<script setup>
import router from './router'
const handleLoginSuccess = (user) => {
  console.log('çˆ¶ç»„ä»¶ç¡®è®¤ç™»å½•æˆåŠŸï¼Œç”¨æˆ·ä¿¡æ¯ï¼š', user)
   try {
    // è·¯ç”±è·³è½¬ä»£ç ï¼ˆæ¯”å¦‚è·³è½¬åˆ°é¦–é¡µï¼‰
    router.push({ name: 'newW' }); // é‡ç‚¹æ£€æŸ¥ï¼šç›®æ ‡è·¯ç”±æ˜¯å¦å­˜åœ¨ï¼Ÿ
  } catch (err) {
    console.error('è·¯ç”±è·³è½¬å¤±è´¥ï¼š', err); // æ•è·å¹¶æ‰“å°é”™è¯¯
  }
};
console.log('ğŸ”§ ç¯å¢ƒé…ç½®:', {
  mode: import.meta.env.MODE,
  apiUrl: import.meta.env.VITE_API_BASE_URL,
  isMock: import.meta.env.VITE_ENABLE_MOCK === 'true'
})
</script>

<template>
  <div id="app">
    <!-- è·¯ç”±å‡ºå£ï¼šåŠ¨æ€æ˜¾ç¤ºåŒ¹é…çš„ç»„ä»¶ -->
    <router-view @login-success="handleLoginSuccess"></router-view>
    <footer>
        <p>Â© 2024 è½¯å·¥é›†å¸‚ ç‰ˆæƒæ‰€æœ‰</p>
    </footer>
  </div>
  
</template>

<style scoped>
.logo {
  height: 6em;
  padding: 1.5em;
  will-change: filter;
  transition: filter 300ms;
}
.logo:hover {
  filter: drop-shadow(0 0 2em #646cffaa);
}
.logo.vue:hover {
  filter: drop-shadow(0 0 2em #42b883aa);
}
#app {
  height: 100vh; /* å æ»¡æ•´ä¸ªè§†å£é«˜åº¦ */
  overflow: auto; /* å…è®¸å†…å®¹æº¢å‡ºæ—¶æ»šåŠ¨ */
  display: flex;
  justify-content: center; /* æ°´å¹³å±…ä¸­ */
  align-items: center; /* å‚ç›´å±…ä¸­ */
}
footer {
    position: absolute;
    bottom: 20px;
    text-align: center;
    width: 100%;
    color: #999;
    font-size: 0.875rem;
}
</style>
